/*!
 * @title Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
 * @license wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html
 * v17.1.1 - 2025-07-24
 *
 */
if(((t,r,a)=>{function n(e){if(!e.content){for(var t=e.childNodes,a=r.createDocumentFragment();t[0];)a.appendChild(t[0]);e.content=a}}var i="wb-template",o="template",e=a.doc;a.tmplPolyfill=n,e.on("timerpoke.wb wb-init.wb-template",o,function(e){e=a.init(e,i,o);e&&(n(e),a.ready(t(e),i))}),a.add(o)})(jQuery,document,wb),((n,i)=>{function o(e,t){function a(e){var t=[e.substr(1,2),e.substr(3,2),e.substr(5,2)].map(e=>parseInt(e,16)/255);for(let e=0;e<t.length;e++)t[e]<=.03928?t[e]=t[e]/12.92:t[e]=Math.pow((t[e]+.055)/1.055,2.4);return.2126*t[0]+.7152*t[1]+.0722*t[2]}return r=a(e),l=a(t),((Math.max(r,l)+.05)/(Math.min(r,l)+.05)).toFixed(2)}var r,l,e=i.doc,s="gc-featured-link",d="."+s,c="#FFFFFF",u="#333333";e.on("timerpoke.wb wb-init .gc-featured-link",d,function(e){var t,a,r,e=i.init(e,s,d);e&&(t=e.dataset.bgColor,r=n(e),t&&(a=4.5<=o(c,t)?c:4.5<=o(u,t)?u:"#000000",e.style.backgroundColor=t,e.style.color=a,e.querySelectorAll("p, a").forEach(e=>{e.style.color=a})),i.ready(r,s))}),i.add(d)})(jQuery,(window,wb)),((a,r)=>{var e=r.doc,n="followus",i="."+n;e.on("timerpoke.wb wb-init .followus",i,function(e){var t=r.init(e,n,i);t&&e.currentTarget===e.target&&((e=t.querySelector(".twitter .wb-inv"))&&(e.innerHTML=e.innerHTML.replace("Twitter","X")),r.ready(a(t),n))}),r.add(i)})(jQuery,(window,wb)),((i,a)=>{var r,n,o,e=a.doc,l="gc-subway",s=".provisional."+l,d=l+"-section",c=l+"-index";e.on("timerpoke.wb wb-init .provisional.gc-subway",s,function(e){var t=a.init(e,l,s);t&&e.currentTarget===e.target&&(e=i(t),r=t.hasAttribute("data-sections-title")?t.getAttribute("data-sections-title"):"Sections",t.querySelector("h1")?((n=i("h1",e)).get(0).id=n.get(0).id||a.getId(),n&&a.addSkipLink(a.i18n("skip-prefix")+" "+n.text(),{href:"#"+n.get(0).id}),e.nextUntil(".pagedetails, .gc-subway-support").wrapAll("<section class='"+d+"'>"),e.wrap("<div class='gc-subway-wrapper'></div>"),(o=i("."+d+" h1")).wrap("<hgroup></hgroup>"),n.wrap("<hgroup></hgroup>"),i("<p>"+n.text()+"</p>").insertBefore(o),i("<p class='h3 hidden-xs visible-md visible-lg mrgn-tp-0'>"+r+"</p>").insertAfter(n),e.find("a.active").attr({tabindex:"0","aria-current":"page"}),(o=i(".gc-subway-support"))&&(o.clone().addClass("hidden-xs hidden-sm").insertAfter("."+l),o.addClass("hidden-md hidden-lg")),t.classList.add("no-blink")):t.classList.contains(c)||t.classList.add(c),i(s+" a, ."+d+" .gc-subway-pagination a, main .pager a").each(function(e,t){let a=i(t),r=a.attr("href"),n;r&&(n=r.includes("#")?r:r+="#wb-cont"),a.clone().addClass("hidden-md hidden-lg").attr("href",n).insertAfter(t),a.addClass("hidden-xs hidden-sm")}),a.ready(e,l))}),a.add(s)})(jQuery,(window,wb)),((B,H,R)=>{function c(e,t,a){for(var r,n,i=a[t];r=i.shift();)(n=r.action)&&(e.trigger(n+"."+P,r),delete r.action)}function M(e,t){var a,r,n,i,o,l,s,d,c=t.cValue||B(t.srcInput).val()||"",u=e.target.id,p=c,g=t.actions,m=t.dntwb;for(g=Array.isArray(g)?B.extend([],g):[g],r=g.length,a=0;a!==r;a+=1)if(n=g[a],i=n.action){if(d=n.default,s=!1,(o=n.match)&&!d)throw"'match' and 'default' property need to be set";if(d&&p.length&&"string"==typeof o)try{l=new RegExp(o),s=(s=l.exec(p))||d}catch(e){}else s||!d||p||(s=d);switch(!n.qval&&s&&(n.qval=s),i){case"patch":var b=n.patches,h=n.base||"/";b||(b=[v],n.cumulative=!0),Array.isArray(b)||(b=[b]),b=y(b,n.qval,h),n.patches=b;break;case"ajax":n.trigger&&m&&(n.trigger=!1),n.url=x(n.url,n.qval);break;case"tblfilter":n.value=x(n.value,n.qval)}w(u,f,n)}}var e=H.doc,u="wb-actionmng",o="."+u,t="[data-"+u+"]",F=u+"Rn",P=u+o,p={},f={},U={},a=["mapfilter","tocsv","loadJSON","patch","ajax","addClass","removeClass","tblfilter","withInput","selectInput","run"].join("."+P+" ")+"."+P,v={op:"move",path:"{base}",from:"{base}/{qval}"},w=function(e,t,a){t[e]||(t[e]=[]),t[e].push(a)},y=function(e,t,a){var r,n,i,o=e.length,l=[];for(a=a||"/",r=0;r!==o;r+=1)n=e[r],i=B.extend({},n),n.path&&(i.path=x(n.path,t,a)),n.from&&(i.from=x(n.from,t,a)),n.value&&(i.value=x(n.value,t,a)),l.push(i);return l},x=function(e,t,a){return t?a?e.replace(/\{qval\}/,t).replace(/\{base\}/,a):e.replace(/\{qval\}/,t):e};e.on("do."+P,function(e){var t,a,r,n,i,o,l=e.element||e.target,s=l.id,d=e.actions||[];if((l===e.target||e.currentTarget===e.target)&&-1===l.className.indexOf(u)){for((r=(d=Array.isArray(d)?d:[d]).length)&&(t=B(l)).addClass(u),s&&p[s]&&c(t,s,p),a=0;a!==r;a+=1)(i=(n=d[a]).action)&&((o=n.target)?(n.trgbefore?w(o,p,n):w(o,f,n),(o=n.trggroup)&&w(o,U,n)):t.trigger(i+"."+P,n));s&&f[s]&&c(t,s,f),B(e.target).removeClass(u)}}),e.on("clean."+P,function(e){var t,a,r=e.element||e.target,n=e.trggroup;if((r===e.target||e.currentTarget===e.target)&&n&&U[n])for(t=U[n];a=t.shift();)delete a.action}),e.on(a,o,function(e,t){var a,r,n,i,o,l,s,d=e.type;if(P===e.namespace)switch(d){case"run":var c,u,p,g,m=t,b=(b=e).target,h=B(b),f=U[m.trggroup];if(f&&!h.hasClass(F)){for(h.addClass(F),u=f.length,c=0;c!==u;c+=1)(g=(p=f[c]).action)&&h.trigger(g+"."+P,p);h.removeClass(F)}break;case"tblfilter":var b=t,m=(m=e).target,m=B(b.source||m),v=b.column,w=parseInt(v,10),y=!!b.regex,x=!b.smart||!!b.smart,k=!b.caseinsen||!!b.caseinsen;if("TABLE"!==m.get(0).nodeName)throw"Table filtering can only applied on table";m=m.dataTable({retrieve:!0}).api(),(v?m.column(!0===w?w:v):m).search(b.value,y,x,k).draw();break;case"addClass":w=e,v=t;w=B(v.source||w.target),v.class&&w.addClass(v.class);break;case"removeClass":y=e,x=t;y=B(x.source||y.target),x.class&&y.removeClass(x.class);break;case"ajax":k=e,(o=t).container?l=B(o.container):(s=H.getId(),l=B("<div id='"+s+"'></div>"),B(k.target).after(l)),o.trigger&&l.attr("data-trigger-wet","true"),l.attr("data-ajax-"+(o.type||"replace"),o.url),l.one("wb-contentupdated",function(e,t){var e=e.currentTarget,a=e.getAttribute("data-trigger-wet");e.removeAttribute("data-ajax-"+t["ajax-type"]),a&&(B(e).find(H.allSelectors).addClass("wb-init").filter(":not(#"+e.id+" .wb-init .wb-init)").trigger("timerpoke.wb"),e.removeAttribute("data-trigger-wet"))}),l.trigger("wb-update.wb-data-ajax");break;case"patch":o=(s=t).source,l=!!s.cumulative,(i=s.patches)&&(Array.isArray(i)||(i=[i]),B(o).trigger({type:"patches.wb-jsonmanager",patches:i,fpath:s.fpath,filter:s.filter||[],filternot:s.filternot||[],cumulative:l}));break;case"selectInput":i=e,n=t,(R.querySelector(n.source)||i.currentTarget).querySelectorAll('[value="'+n.value+'"]').forEach(e=>{"OPTION"===e.nodeName?e.setAttribute("selected",!0):"INPUT"===e.nodeName&&e.setAttribute("checked",!0)});break;case"mapfilter":n=e,n=B((T=t).source||n.target).get(0).geomap,z=T.filter,T=T.value,"aoi"===z&&n.zoomAOI(T),"layer"===z&&n.showLayer(T,!0);break;case"tocsv":var S,A,C,E,q,z=t.source,T=t.filename,j=(z=B(z)).get(0),N=j.classList.contains("wb-tables"),I="",T=T||(j.caption||"table")+".csv",D=j.rows,O=D.length,L=D[0].cells.length;if(N){for(O=(C=z.dataTable({retrieve:!0}).api()).rows()[0].length,A=0;A<L;A+=1)q=(q=D[0].cells[A].textContent).replace(/"/g,'""'),I=A?I+',"'+q+'"':I+'"'+q+'"';I+="\n"}for(S=0;S<O;S+=1){for(A=0;A<L;A+=1)N?-1!==(q=C.cell(S,A,{page:"all"}).data()).indexOf("<")&&((E=R.createElement("div")).innerHTML=q,q=E.textContent):q=D[S].cells[A].textContent,q=q.replace(/"/g,'""'),q+='"',I=A?I+',"'+q:I+'"'+q;I+="\n"}H.download(new Blob(["\ufeff"+I],{type:"text/plain;charset=utf-8"}),T);break;case"loadJSON":a=(j=t).source,r=j.url,B(a).attr("data-wb-jsonmanager-reload",""),B(a).trigger({type:"json-fetch.wb",fetch:{url:r,nocache:j.nocache,nocachekey:j.nocachekey,data:j.data,contentType:j.contenttype,method:j.method}});break;case"withInput":M(e,t)}}),e.on("timerpoke.wb wb-init.wb-actionmng",t,function(e){var t,a,r,n,i,e=H.init(e,u,o);if(e){if(e=B(e),t=H.getData(e,u))for(r=(t=Array.isArray(t)?t:[t]).length,a=0;a!==r;a+=1)(i=(n=t[a]).trggroup)&&n.action&&w(i,U,n);H.ready(e,u)}}),H.add(t)})(jQuery,wb,document),((p,n,o)=>{var g,m,b,h,f,v,w,y,c,a,r,x="wb-chtwzrd",k="."+x,l=x+"-replace",e="wb-init"+k,S=o.doc,A={},C={},E={en:{"chtwzrd-send":"Send<span class='wb-inv'> reply and continue</span>","chtwzrd-reset":"Restart from the beginning","chtwzrd-toggle":"Switch to wizard","chtwzrd-notification":"Close chat notification","chtwzrd-open":"Open chat wizard","chtwzrd-minimize":"Minimize chat wizard","chtwzrd-history":"Conversation history","chtwzrd-reply":"Reply","chtwzrd-controls":"Controls","chtwzrd-toggle-basic":"Switch to basic form","chtwzrd-waiting":"Waiting for message","chtwzrd-answer":"You have answered:"},fr:{"chtwzrd-send":"Envoyer<span class='wb-inv'> la réponse et continuer</span>","chtwzrd-reset":"Recommencer depuis le début","chtwzrd-toggle":"Basculer vers l&apos;assistant","chtwzrd-notification":"Fermer la notification de discussion","chtwzrd-open":"Ouvrir l&apos;assistant de discussion","chtwzrd-minimize":"Réduire l&apos;assistant de discussion","chtwzrd-history":"Historique de discussion","chtwzrd-reply":"Répondre","chtwzrd-controls":"Contrôles","chtwzrd-toggle-basic":"Basculer vers le formulaire","chtwzrd-waiting":"En attente d&apos;un message","chtwzrd-answer":"Vous avez répondu&nbsp;:"}},i=function(e){h=localStorage.getItem("wb-chtwzrd-notif"),e.removeClass("hidden wb-inv").addClass(x+"-basic"),g=!(C={shortDelay:500,mediumDelay:750,longDelay:1250,xLongDelay:2e3,xxLongDelay:2500}),v=A.header.first,w=A.header.instructions||"",f=A.header.defaultDestination,y=A.questions[v],m=A.header.formType||"dynamic",b=!!A.header.inline,E={send:(E=E[p("html").attr("lang")||"en"])["chtwzrd-send"],reset:E["chtwzrd-reset"],toggle:E["chtwzrd-toggle"],notification:E["chtwzrd-notification"],trigger:E["chtwzrd-open"],minimize:E["chtwzrd-minimize"],conversation:E["chtwzrd-history"],reply:E["chtwzrd-reply"],controls:E["chtwzrd-controls"],toggleBasic:E["chtwzrd-toggle-basic"],waiting:E["chtwzrd-waiting"],answer:E["chtwzrd-answer"]},j(e,A.header.title);var t,a=p(k+"-basic"),r=p(k+"-bubble-wrap"),n=p(k+"-btn"),i=p(k+"-container"),o=p(".body",i),l=p(".history",i),s=p(".minimize",i),e=p(".reset",i),d=p(".basic-link",i),c=e,u=d;q(a),z(r),T(n),d.on("click",function(e){e.preventDefault();var t=p("legend:first",a);t.attr("tabindex","0"),l.attr("aria-live",""),N(a,"form"),i.stop().hide(),a.stop().show(function(){t.focus(),t.removeAttr("tabindex")}),p("body").removeClass(x+"-noscroll")}),p(k+"-link").on("click",function(e){e.preventDefault(),a.stop().hide(),t=p(":focus"),p(this).hasClass(x+"-bubble")||N(i,"wizard"),p(".bubble",r).removeClass("trans-pulse"),p("p",r).hide().removeClass("trans-left"),i.stop().show(),r.stop().hide(),n.prop("disabled",!0),b||p("body").addClass(x+"-noscroll"),l.length&&p(".conversation",i).scrollTop(l[0].scrollHeight),g||I(o),localStorage.setItem("wb-chtwzrd-notif",1)}),p(k+"-btn").on("click",function(e){e.preventDefault(),n.prop("disabled",!0),a.stop().hide(),t=p(":focus"),N(i,"wizard"),i.stop().show(),r.stop().hide(),i.find(":focusable").first().focus(),b||p("body").addClass(x+"-noscroll"),l.length&&p(".conversation",i).scrollTop(l[0].scrollHeight),g||I(o)}),b?p(k+"-link").click():i.on("keydown",function(e){9===e.keyCode&&(e.shiftKey?c.is(":focus")&&(e.preventDefault(),u.focus()):u.is(":focus")&&(e.preventDefault(),c.focus())),27===e.keyCode&&s.click()}),S.on("click",k+"-container .btn-send",function(e){"submit"!==p(this).attr("type")&&(e.preventDefault(),(e=p("input:checked",o)).length||(e=p("input:first",o)).attr("checked",!0),D(o,O(e),!1))}),e.on("click",function(e){e.preventDefault(),N(p(k+"-container"),"wizard")}),s.on("click",function(e){e.preventDefault(),i.stop().hide(),n.prop("disabled",!1),r.stop().show(),p("body").removeClass(x+"-noscroll"),t.focus()})},q=function(e){var r=p("form",e),t=p("fieldset",e),a=t.first();"dynamic"===m&&(a.addClass(x+"-first-q"),t.not(k+"-first-q").hide()),e.hide(),p("input",r).prop("checked",!1),r.append("<button class='btn btn-sm btn-link "+x+"-link mrgn-rght-sm'>"+E.toggle+"</button>"),p("input",r).on("change",function(){var e,t=O(p(this)),a=p("#"+t.qNext,r);"dynamic"===m&&(e=p(this).closest("fieldset"),!a.is(":hidden")&&e.next().attr("id")===a.attr("id")&&"none"!==t.qNext||e.nextAll("fieldset").hide().find("input").prop("checked",!1),"none"!==t.qNext&&p("#"+t.qNext).show(),""!==t.url)&&r.attr("action",t.url)})},z=function(t){var e,a=p("#wb-info"),r=p(k+"-link",t);A.header.avatar&&r.css("background-image","url("+A.header.avatar+")"),t.fadeIn("slow"),a.addClass(x+"-mrgn"),a.length&&((e=function(e){p(n).scrollTop()>=p(document).outerHeight()-p(n).outerHeight()-a.outerHeight()?e.css({bottom:a.outerHeight()-(p(document).outerHeight()-p(n).outerHeight()-p(n).scrollTop())+30}):e.css({bottom:30})})(t),p(n).on("resize scroll",function(){e(t)})),p(".notif",t).on("click",function(){r.click()}),p(".notif-close",t).on("click",function(e){e.preventDefault(),p(this).parent().hide(),t.focus(),localStorage.setItem("wb-chtwzrd-notif",1)})},T=function(e){e.attr("aria-controls",x+"-container")},s=function(e){var t=p("form",e),a=p("h2",e).first(),r=p("p:not("+k+"-greetings):not("+k+"-farewell)",t).first(),n="btn-former-send",i={},s={},o=p("fieldset",e);return e.data(x),(i=e.data(x)?e.data(x):{}).inline=e.hasClass("wb-chtwzrd-inline"),i.avatar=e.data(x+"-avatar"),i.defaultDestination=t.attr("action"),i.name=t.attr("name"),i.method=t.attr("method"),i.form={},i.form.title=a.html(),i.title=u(a,i.form.title),i.greetings=p("p"+k+"-greetings",t).html(),i.farewell=p("p"+k+"-farewell",t).html(),i.form.sendButton=p("input[type=submit]",t).length?p("input[type=submit]",t).addClass(n).val():p("button[type=submit]",t).addClass(n).html(),i.sendButton=u(p("."+n,t),i.form.sendButton),r.length&&(i.form.instructions=r.html(),i.instructions=u(r,i.form.instructions)),i.first=i.first||o.first().attr("id"),o.each(function(){var e=p(this),t=p("legend",e),a=p("label",e),r=this.id,e=p("input[type=radio]",e).length?"radio":"checkbox",o=[],l="",n={};a.each(function(e){var t=p("input",p(this)),a={},r=t.attr("name"),n=t.data(x+"-url"),i=t.siblings("span:not(.no-"+x+")").html();e||(l=r),a.content=i,a.value=t.val(),a.next=t.data(x+"-next"),n&&(a.url=n),o.push(a)}),n.name=l,n.input=e,n.formLabel=t.html(),n.label=u(t,n.formLabel),n.choices=o,s[r]=n}),{header:i,questions:s}},j=function(e,t){e.after("<div class='"+x+"-bubble-wrap'><a href='#"+x+"-container' aria-controls='"+x+"-container' class='"+x+"-link bubble trans-pulse' role='button'>"+E.trigger+"</a>"+(h?"":"<p class='trans-left'><span class='notif'>"+t+"</span> <a href='#' class='notif-close' title='"+E.notification+"' aria-label='"+E.notification+"' role='button'>&times;</a></p>")+"</div>"),e.next(k+"-bubble-wrap").after("<aside id='"+x+"-container' class='modal-content overlay-def "+x+"-container "+(b?" wb-chtwzrd-contained":"")+"'></aside>");e=p(k+"-container"),e.append("<header class='modal-header header'><h2 class='modal-title title'>"+t+"</h2><button type='button' class='reset' title='"+E.reset+"'> <span class='glyphicon glyphicon-refresh'></span><span class='wb-inv'>"+E.reset+"</span></button><button type='button' class='minimize' title='"+E.minimize+"'><span class='glyphicon glyphicon-chevron-down'></span><span class='wb-inv'>"+E.minimize+"</span></button></header>"),e.append("<form class='modal-body body' method='GET'></form>"),t=p(".body",e);t.append("<div class='conversation'><section class='history' aria-live='assertive'><h3 class='wb-inv'>"+E.conversation+"</h3></section><section class='reply'><h3 class='wb-inv'>"+E.reply+"</h3><div class='inputs-zone'></div></section><div class='form-params'></div></div>"),t.append("<section class='controls'><h3 class='wb-inv'>"+E.controls+"</h3><div class='row'><div class='col-xs-12'><button class='btn btn-primary btn-block btn-send' type='button'>"+E.send+"</button></div></div><div class='row'><div class='col-xs-12 text-center mrgn-tp-sm'><a href='#"+x+"-basic' class='btn btn-sm btn-link basic-link' role='button'>"+E.toggleBasic+"</a></div></div></section>"),t.attr("name",A.header.name+"-chat"),t.attr("method",A.header.method),r=p(".btn-send ",t).html()},d=function(e,t){e.html("");var a="<h2>"+t.header.title+"</h2>",r="<p>"+t.header.instructions+"</p>",n=">"+t.header.sendButton+"</button>",i=(t.header.form.title,a="<h2 data-"+l+"='"+t.header.title+"'>"+t.header.form.title+"</h2>",e.append(a+"<form class='mrgn-bttm-xl' action='"+t.header.defaultDestination+"' name='"+t.header.name+"' method='"+(t.header.method||"GET")+"'></form>"),p("form",e));t.header.form.instructions,r="<p data-"+l+"='"+t.header.instructions+"'>"+t.header.form.instructions+"</p>",i.append("<p class='wb-chtwzrd-greetings wb-inv'>"+t.header.greetings+"</p>"+r),p.each(t.questions,function(e,a){var r=o.getId(),t="<legend>"+a.label+"</legend>",n=(a.formLabel&&(t="<legend data-"+l+"='"+a.label+"'>"+a.formLabel+"</legend>"),i.append("<fieldset id='"+e+"' class='"+r+"'>"+t+"<ul class='list-unstyled mrgn-tp-md'></ul></fieldset>"),p("."+r,i));p.each(a.choices,function(e,t){r=o.getId(),p("ul",n).append("<li><label><input type='"+a.input+"' value='"+t.value+"' id ='"+r+"' name='"+a.name+"' data-value='"+t.content+"' /> <span>"+t.content+"</span>"),p("#"+r,n).attr("data-"+x+"-next",t.next),t.url,t.url&&p("#"+r,n).attr("data-"+x+"-url",t.url)})}),t.header.form.sendButton,n=" data-"+l+"='"+t.header.sendButton+"'>"+t.header.form.sendButton+"</button>",i.append("<p class='wb-chtwzrd-farewell wb-inv'>"+t.header.farewell+"</p><br/><button type='submit' class='btn btn-sm btn-primary'"+n),void 0!==A.header.first&&A.header.first||(A.header.first=p("fieldset",i).first().attr("id"))},N=function(e,t){"wizard"===t?(t=p(".conversation",e),n.clearTimeout(c),n.clearTimeout(a),g=!1,f=A.header.defaultDestination,v=A.header.first,w=A.header.instructions||"",y=A.questions[v],p(".history, .form-params",t).html(""),p(".btn-send",e).attr("type","button").html(r),p(".history",t).attr("aria-live","assertive"),I(p(".body",e))):(t=p("fieldset",e),"dynamic"===m&&(t.not(":first").hide(),p("input",t).prop("checked",!1)))},I=function(n){var i=p(".history",n),o=p(".inputs-zone",n),l=p(".conversation",n),s=p(".btn-send",n),e=""!==v||""!==w||"last"===y?"p":"h4",d=(g=!0,s.prop("disabled",!0),o.html(""),i.append("<div class='row mrgn-bttm-md'><div class='col-xs-9'><"+e+" class='mrgn-tp-0 mrgn-bttm-0'><span class='avatar'></span><span class='question'></span></"+e+"></div></div>"),p(".question:last",i)),e=(t(d),C.longDelay);b&&""!==v?e=C.xLongDelay:""===v&&""!==w&&(e=C.xxLongDelay),c=setTimeout(function(){""!==v?(d.html(A.header.greetings),v="",I(n)):""!==w?(d.html(w),w="",I(n)):"last"===y?(d.html(A.header.farewell),s.attr("type","submit").prop("disabled",!1).html(A.header.sendButton+"&nbsp;<span class='glyphicon glyphicon-chevron-right small'></span>"),n.attr("action",f)):(d.html(y.label),y.input="radio",a=setTimeout(function(){o.append("<fieldset><legend class='wb-inv'>"+y.label+"</legend><div class='row'><div class='col-xs-12'><ul class='list-unstyled mrgn-tp-sm choices'></ul></div></div></fieldset>");for(var e=0;e<y.choices.length;e++){var t=y.choices[e];p(".choices",o).append("<li><label><input type='"+y.input+"' value='"+t.value+"' name='"+y.name+"' data-"+x+"-next='"+t.next+"'"+(void 0===t.url?"":" data-"+x+"-url='"+t.url+"'")+(e?"":"checked ")+"/> <span>"+t.content+"</span></label></li>")}s.prop("disabled",!1);var a=l[0].scrollHeight,r=p(".reply",n);r.length&&r.outerHeight()+d.outerHeight()>l.innerHeight()&&(a=i[0].scrollHeight-d.outerHeight()-42),l.scrollTop(a)},C.mediumDelay)),l.scrollTop(l[0].scrollHeight)},e)},D=function(e,t){var a=o.getId(),r=p(".history",e),t=(r.append("<div class='row mrgn-bttm-md'><div class='col-xs-9 col-xs-offset-3'><div class='message text-right pull-right' id='"+a+"'><p class='mrgn-bttm-0'><span class='wb-inv'>"+E.answer+" </span>"+t.value+"</p></div></div></div>"),p(".form-params",e).append("<input type='hidden' name='"+t.name+"' value='"+t.val+"' data-value='"+t.value+"' />"),g=!1,""!==t.url&&(f=t.url),t.qNext),n=p("#"+a,r);y="none"===t?"last":A.questions[t],p(".btn-send",e).prop("disabled",!0),n.attr("tabindex","0"),c=setTimeout(function(){p(".inputs-zone",e).remove("fieldset"),n.focus(),n.removeAttr("tabindex"),I(e)},C.shortDelay)},t=function(e){e.html("<span class='loader-typing' aria-label='"+E.waiting+"'><span class='loader-dot dot1'></span><span class='loader-dot dot2'></span><span class='loader-dot dot3'></span></span>")},u=function(e,t){e=e.data(l);return e||t},O=function(e){var t=e.data(x+"-next"),a=e.data(x+"-url");return{qNext:t,name:e.attr("name"),val:e.val(),url:a||"",value:e.next().html()}};S.on("timerpoke.wb "+e,k+".provisional",function(r){setTimeout(function(){var t,e,a=o.init(r,x,k);a&&((t=a=p(a)).data(x+"-src")?(e=t.data(x+"-src"),p.getJSON(e,function(e){d(t,A=e),i(t)})):(A=s(t),i(t)),o.ready(a,x))},500)}),o.add(k)})(jQuery,window,wb),((r,n)=>{var i="wb-doaction",o="a[data-"+i+"],button[data-"+i+"]",l="do.wb-actionmng",s=n.doc;s.on("click",o,function(e){var t=e.target,a=r(t);if("BUTTON"===(t=e.currentTarget!==e.target?(a=a.parentsUntil("main",o))[0]:t).nodeName||"A"===t.nodeName)return t.id||(t.id=n.getId()),n.isReady?a.trigger({type:l,actions:n.getData(a,i)}):s.one("wb-ready.wb",function(){a.trigger({type:l,actions:n.getData(a,i)})}),!1})})(jQuery,(window,wb)),((Z,z,_)=>{function ee(e,t,a,r){var n=e.data(t);(n=n&&!r?n:[]).push(a),e.data(t,n)}function te(e,t){var a=t.$selElm,r=t.name,n=t.value;r&&t.provEvt.setAttribute("name",r),"string"==typeof n&&a.val(n),a.attr("data-"+i,i)}function ae(e,t){var a=Z(t.origin),e=Z(e.target).data(fe),r=t.toggle;r&&"string"==typeof r&&(r={selector:r}),r=Z.extend({},r,e.toggle),a.addClass("wb-toggle"),a.trigger("toggle.wb-toggle",r),r.type="off",a.one(me,function(){a.addClass("wb-toggle"),a.trigger("toggle.wb-toggle",r),a.removeClass("wb-toggle")})}function re(e,t){var a,r,n,i,o,l,s,d=t.outputctnrid,c=t.actions,u=t.lblselector,p=!!t.required,g=!t.noreqlabel,m=t.items,e=e.target,b=Z(e),h=t.source,f=b.data(fe).i18n,v=t.attributes,w=_.getId(),y="<legend",x="</span>",k="<fieldset id='"+w+"' data-"+ye+"='"+e.id+"' "+xe+"='"+h.id+"' class='"+le+" chkbxrdio-grp mrgn-bttm-md'",S="",A=t.typeRadCheck,C=t.inline,E=t.gcChckbxrdio,q=se+w;if(v&&"object"==typeof v)for(r in v)Object.prototype.hasOwnProperty.call(v,r)&&(k+=" "+r+"='"+v[r]+"'");for(e=Z(k+"></fieldset>"),C&&e.addClass("form-inline"),E&&e.addClass("gc-chckbxrdio"),p&&g&&(y+=" class='required'",x+=" <strong class='required'>("+f.required+")</strong>"),y+=">",x+="</legend>",u?(h=Z("<div>"+t.label+"</div>").find(u),e.append(y+h.html()+x).append(h.nextAll()),a=h.prevAll()):e.append(Z(y+t.label+x)),E&&!C&&(s="closed"),r=0,n=m.length;r!==n;r+=1)if((l=m[r]).group)for("open"===s&&(S+="</ul>",s="closed"),S+="<p>"+l.label+"</p>","closed"===s&&(S+="<ul class='list-unstyled lst-spcd-2'>",s="open"),o=l.group.length,i=0;i!==o;i+=1)S+=T(l.group[i],q,A,C,E,p);else 0===r&&"closed"===s&&(S+="<ul class='list-unstyled lst-spcd-2'>",s="open"),S+=T(l,q,A,C,E,p);"open"===s&&(S+="</ul>"),e.append(S),Z("#"+d).append(e),a&&e.before(a),c&&0<c.length&&e.data(ve,c),ee(b,he,w)}function ne(e){var t=ke(e.label),a="<option value='"+_.escapeAttribute(t)+"'";return a+=d(e),e.isSelected&&(a+=" selected=selected"),a+=">"+t+"</option>"}function T(e,t,a,r,n,i){var o=_.getId(),l=e.label,s="<label for='"+o+"'>",o="<input id='"+o+"' type='"+a+"' name='"+t+"' value='"+_.escapeAttribute(ke(l))+"'"+d(e),e="<"+(t=!r&&n?"li":"div")+" class='"+a;return i&&(o+=" required='required'"),o+=" />",r&&(e+=" label-inline"),e=(e+="'>")+(r||n?o+s+l:s+o+" "+l)+("</label></"+t+">")}var q,ie="wb-fieldflow",u="."+ie,p=ie+"-form",oe=ie+"-sub",le=ie+"-init",a="."+le,se=ie+_.getId(),I="[name^="+se+"]",de=ie+"-label",ce=ie+"-header",e="."+p,r="wb-init"+u,ue="draw"+u,pe="action"+u,ge="submit"+u,D="submited"+u,m="ready"+u,me="clean"+u,j="reset"+u,be="createctrl"+u,he=ie+"-register",N=ie+"-hdnfld",fe=ie+"-config",ve=ie+"-push",we=ie+"-submit",ye=ie+"-origin",xe="data-"+ie+"-source",i=ie+"-flagoptvalue",t=_.doc,g={toggle:{stateOn:"visible",stateOff:"hidden"},i18n:{en:{btn:"Continue",defaultsel:"Make your selection...",required:"required"},fr:{btn:"Allez",defaultsel:"Sélectionnez dans la liste...",required:"obligatoire"}},action:"ajax",prop:"url"},n=[["redir","query","ajax","addClass","removeClass","removeClass","append","tblfilter","toggle"].join("."+pe+" ")+"."+pe,["ajax","toggle","redir","addClass","removeClass"].join("."+ge+" ")+"."+ge,["tblfilter",ie].join("."+ue+" ")+"."+ue,["select","checkbox","radio"].join("."+be+" ")+"."+be].join(" "),Se=function(e,t){for(var a,r,n,i,o,l,s,d,c,u,p,g,m=e.get(),b=m.length,h=[],f=0;f!==b;f+=1){if(i=null,r=n="",g=(a=m[f]).firstChild,l=(s=a.childNodes).length,!g)throw"You have a markup error, There may be an empty <li> elements in your list.";for(p=[],(g=a.firstElementChild)&&"A"===g.nodeName&&(n=g.getAttribute("href"),r=Z(g).html().trim(),l=1,p.push({action:"redir",url:n})),o=1;o!==l;o+=1){if(d=s[o],(c=Z(d)).hasClass(oe)){u=d.id||_.getId(),d.id=u,n=ie+"-"+u,p.push({action:"append",srctype:ie,source:"#"+u});break}if("UL"===d.nodeName){if(t)throw"Recursive error, please check your code";i=Se(c.children(),!0)}c.hasClass(de)&&(r=c.html())}r||((g=Z(a).clone()).children("ul, .wb-fieldflow-sub").remove(),r=g.html().trim()),a.id||(a.id=_.getId()),h.push({bind:a.id,label:r,actions:p,group:i})}return h},d=function(e){var t="",a={};return a.bind=e.bind||"",a.actions=e.actions||[],t+=" data-"+ie+"='"+JSON.stringify(a)+"'"},ke=function(e){return e.replace(/(<([^>]+)>)/gi,"")};t.on(j,u+", ."+oe,function(e){var t,a,r,n,i,o=e.target,l=[];if(o===e.currentTarget&&(e=(t=Z(o)).data(fe))&&e.reset)for(o=e.reset,Array.isArray(o)?l=o:l.push(o),r=l.length,a=0;a!==r;a+=1)(i=(n=l[a]).action)&&(!1!==n.live&&(n.live=!0),t.trigger(i+"."+pe,n))}),t.on("change",e+" "+a,function(e){var t,a,r,n,i,o,l=e.currentTarget,e=Z(l),s=e.nextAll(),d=Z("#"+l.getAttribute("data-"+ye)),c=Z("#"+l.getAttribute(xe)),u=d.data(he),p=e.find(":checked",e),g=e.get(0).form,m=s.length;if(m){for(a=m;0!==a;--a)(i=s[a])&&(-1<(o=u.indexOf(i.id))&&u.splice(o,1),Z("#"+i.getAttribute(xe)).trigger(j).trigger(me),Z(i).trigger(me));d.data(he,u),s.remove()}c.trigger(j).trigger(me),e.trigger(me),e.data(we,[]);var b,h,f,v,w,y,x,k=[],S=[],A=[],C=d.data(fe),E=c.data(fe);for(E&&(C=C&&Z.extend({},C,E)),p.length&&p.val()&&C&&C.default&&(t=C.default,Array.isArray(t)?k=t:k.push(t)),f=C.action,v=C.prop,q=C.actionData||{},(t=e.data(ve))&&(k=k.concat(t)),a=0,m=p.length;a!==m;a+=1)if(b=p.get(a),(b=_.getData(b,ie))&&(x=b.bind,k=k.concat(b.actions),x)&&"string"==typeof(h=z.getElementById(x).getAttribute("data-"+ie))){if(h.startsWith("{")||h.startsWith("[")){try{t=JSON.parse(h)}catch(e){Z.error("Bad JSON object "+h)}Array.isArray(t)||(t=[t])}else(t={}).action=f,t[v]=h,t=[t=Z.extend(!0,{},q,t)];k=k.concat(t)}if(k.length){for(a=0,m=k.length;a!==m;a+=1)((n=(r=k[a]).target)&&n!==x?A:S).push(r);for(w=C.base||{},y=A.length,a=0,m=S.length;a!==m;a+=1)(r=Z.extend({},w,S[a])).origin=c.get(0),r.provEvt=l,r.$selElm=p,r.form=g,y&&(r.actions=A),d.trigger(r.action+"."+pe,r)}return!0}),t.on("submit",e+" form",function(e){var t,a,r,n,i,o,l,s,d,c,u,p,g,m=e.currentTarget,b=Z(m),h=b.data(he),f=b.data(N)||[],v=h?h.length:0,w=[],y=[],x=!1;for(v&&(q=(a=Z("#"+h[v-1])).data(he),Z("#"+q[q.length-1]).trigger(me),a.trigger(me)),t=0;t!==v;t+=1)for(s=(r=(a=Z("#"+h[t])).data(he)).length,l=0;l!==s;l+=1){if(n=Z("#"+r[l]),i=Z("#"+n.data(ye)),y.push(i),o=i.data(fe),!(p=n.data(we))&&o.defaultIfNone){for(d=0,c=(p=o.defaultIfNone).length;d!==c;d+=1)(u=p[d]).origin=i.get(0),u.$selElm=i.prev().find("input, select").eq(0),u.provEvt=u.$selElm.get(0),u.form=m,i.trigger(u.action+"."+pe,u);p=n.data(we)}if(p)for(d=0,c=p.length;d!==c;d+=1)(u=p[d]).form=m,a.trigger(u.action+"."+ge,u),w.push({$elm:a,data:u}),x=x||u.preventSubmit,g=u.provEvt}if(!x){for(b.find(I).removeAttr("name"),v=f.length,t=0;t!==v;t+=1)Z(f[t]).remove();var k,S,A,C,E,f=[],q=b.attr("action");if(q&&0<(k=q.indexOf("?"))){for(v=(E=q.substring(k+1).split("&")).length,t=0;t!==v;t+=1)0<(A=S=E[t]).indexOf("=")&&(A=(C=S.split("=",2))[0],S=C[1]),(C=z.createElement("input")).type="hidden",C.name=A,C.value=_.escapeAttribute(S),b.append(C),f.push(C);b.data(N,f)}}for(v=y.length,t=0;t!==v;t+=1)(o=(i=y[t]).data(fe)).action&&w.push({$elm:i,data:o});for(v=w.length,t=0;t!==v;t+=1)(u=w[t]).data.lastProvEvt=g,u.$elm.trigger(u.data.action+"."+D,u.data);if(x)return e.preventDefault(),e.stopPropagation?e.stopImmediatePropagation():e.cancelBubble=!0,!1}),t.on("keyup",e+" select",function(e){if(-1!==navigator.userAgent.indexOf("Gecko"))return e.keyCode&&(1===e.keyCode||9===e.keyCode||16===e.keyCode||e.altKey||e.ctrlKey)||Z(e.target).trigger("change"),!0}),t.on(n,u,function(e,t){var a,r,n,i,o,l,B,H,R,s,M,d,c,u,p,g,m,b,h,f,v,F,w=e.type;switch(e.namespace){case ue:switch(w){case ie:u=t,(c=e).namespace===ue&&(c=c.target,c=Z(c),g=(p=Z(u.source)).get(0),m=u.lblselector||"."+de,h=u.itmselector||"ul:first() > li",p.hasClass(oe)&&(v=_.getData(p,ie),p.data(fe,v),u=Z.extend({},u,v)),v=u.actions||[],F=u.renderas||"select",g.id||(g.id=_.getId()),(f=p.children().first()).hasClass(ce)?(b=f.html(),h="."+ce+" + "+h):(b=((f=f.find(m)).length?f:p.find("> p")).html(),m=null),f=Se(p.find(h)),u.outputctnrid||(u.outputctnrid=u.provEvt.parentElement.id),c.trigger(F+"."+be,{actions:v,source:g,attributes:u.attributes,outputctnrid:u.outputctnrid,label:b,lblselector:m,defaultselectedlabel:u.defaultselectedlabel,required:!u.isoptional,noreqlabel:u.noreqlabel,items:f,inline:u.inline,gcChckbxrdio:u.gcChckbxrdio,showLabel:u.showLabel}));break;case"tblfilter":((e,t)=>{if(e.namespace===ue){var a,r,n,i,o,l,s,d,c,u,p,g=t.column,m=t.csvextract,b=t.source,h=Z(b),f=[],v=t.label,w=t.defaultselectedlabel,y=t.lblselector,x=t.fltrseq||[],k=t.limit||10;if(!h.hasClass("wb-tables-inited"))return h.one("wb-ready.wb-tables",function(){Z(e.target).trigger("tblfilter."+ue,t)});if((a=h.dataTable({retrieve:!0}).api()).rows({search:"applied"}).data().length<=k)return;if(p=t.renderas||"select",!g&&x.length){if(!(d=x.shift()).column)throw"Column is undefined in the filter sequence";g=d.column,m=d.csvextract,w=d.defaultselectedlabel,v=d.label,y=d.lblselector}if(a=a.column(g,{search:"applied"}),m)for(i=0,o=(r=a.data()).length;i!==o;i+=1)f=f.concat(r[i].split(","));else for(i=0,o=(r=a.nodes()).length;i!==o;i+=1)for(l=0,s=(n=Z(r[i]).find("li")).length;l!==s;l+=1)f.push(Z(n[l]).text());var f=f.sort().filter(function(e,t,a){return!t||e!==a[t-1]}),m=e.target,m=Z(m),S=[],A=t.actions||[];for(x.length&&(u={action:"append",srctype:"tblfilter",source:b,renderas:x[0].renderas||p,fltrseq:x,limit:k}),i=0,o=f.length;i!==o;i+=1)c={label:d=f[i],actions:[{action:"tblfilter",source:b,column:g,value:d}]},u&&c.actions.push(u),S.push(c);v=v||a.header().textContent,t.outputctnrid||(t.outputctnrid=t.provEvt.parentElement.id),m.trigger(p+"."+be,{actions:A,source:h.get(0),outputctnrid:t.outputctnrid,label:v,defaultselectedlabel:w,lblselector:y,items:S,inline:t.inline,gcChckbxrdio:t.gcChckbxrdio})}})(e,t)}break;case be:switch(w){case"select":var y,x,k,P,S,U,A,C=e,E=t,Q=E.outputctnrid,Q=Z("#"+Q),J=E.actions,$=E.lblselector,K=!!E.required,W=!E.noreqlabel,G=E.items,C=C.target,V=Z(C),Y=E.source,q=E.attributes,X=V.data(fe).i18n,z=_.getId(),T="<label for='"+z+"'",j=E.inline&&!E.showLabel?" wb-inv":"",N="</span>",I=E.defaultselectedlabel||!1===E.defaultselectedlabel&&!E.live?E.defaultselectedlabel:X.defaultsel;if(K&&W&&(T+=" class='required"+j+"'",N+=" <strong class='required'>("+X.required+")</strong>"),T+="><span class='field-name'>",N+="</label>",$?(W=(y=Z("<div>"+E.label+"</div>")).find($)).html(T+W.html()+N):y=Z(T+E.label+N),x="<select id='"+z+"' name='"+se+z+"' class='full-width form-control mrgn-bttm-md "+le+"' data-"+ye+"='"+C.id+"' "+xe+"='"+Y.id+"'",K&&(x+=" required"),q&&"object"==typeof q)for(k in q)Object.prototype.hasOwnProperty.call(q,k)&&(x+=" "+k+"='"+q[k]+"'");for(x+=">",I&&(x+="<option value=''>"+I+"</option>"),k=0,P=G.length;k!==P;k+=1)if(A=G[k],k||I||(A.isSelected=!0),A.group){for(x+="<optgroup label='"+_.escapeAttribute(ke(A.label))+"'>",U=A.group.length,S=0;S!==U;S+=1)x+=ne(A.group[S]);x+="</optgroup>"}else x+=ne(A);j=Z(x+="</select>"),Q.append(y).append(j),J&&0<J.length&&j.data(ve,J),ee(V,he,z),I||j.trigger("change");break;case"checkbox":t.typeRadCheck="checkbox",re(e,t);break;case"radio":t.typeRadCheck="radio",re(e,t)}break;case pe:switch(w){case"append":var D=e,O=t;if(D.namespace===pe){var L=O.srctype||ie;if(O.container=O.provEvt.parentNode.id,!O.source)throw"A source is required to append a field flow control.";Z(D.currentTarget).trigger(L+"."+ue,O)}break;case"redir":ee(Z(t.provEvt),we,t,!0);break;case"ajax":D=e,O=(L=t).provEvt,L.live?(L.container||(d=Z("<div></div>"),Z(O.parentNode).append(d),L.container=d.get(0)),Z(D.target).trigger("ajax."+ge,L)):(L.preventSubmit=!0,ee(Z(O),we,L));break;case"tblfilter":d=t,(o=e).namespace===pe&&(o=d.source,o=Z(o).dataTable({retrieve:!0}).api(),s=d.column,l=parseInt(s,10),B=!!d.regex,H=!d.smart||!!d.smart,R=!d.caseinsen||!!d.caseinsen,(M=o.column(s=!0===l?l:s)).search(d.value,B,H,R).draw(),Z(d.provEvt).one(me,function(){M.search("").draw()}));break;case"toggle":t.live?ae(e,t):(t.preventSubmit=!0,ee(Z(t.provEvt),we,t));break;case"addClass":if(!t.source||!t.class)return;t.live?Z(t.source).addClass(t.class):(t.preventSubmit=!0,ee(Z(t.provEvt),we,t));break;case"removeClass":if(!t.source||!t.class)return;t.live?Z(t.source).removeClass(t.class):(t.preventSubmit=!0,ee(Z(t.provEvt),we,t));break;case"query":te(0,t)}break;case ge:switch(w){case"redir":i=(n=t).form,(n=n.url)&&i.setAttribute("action",n);break;case"ajax":r=(i=t).clean,i.container?a=Z(i.container):(n=_.getId(),a=Z("<div id='"+n+"'></div>"),Z(i.form).append(a),r="#"+n),r&&Z(i.origin).one(me,function(){Z(r).empty()}),i.trigger&&a.attr("data-trigger-wet","true"),a.attr("data-ajax-"+(i.type||"replace"),i.url),a.one("wb-contentupdated",function(e,t){var e=e.currentTarget,a=e.getAttribute("data-trigger-wet");e.removeAttribute("data-ajax-"+t["ajax-type"]),a&&(Z(e).find(_.allSelectors).addClass("wb-init").filter(":not(#"+e.id+" .wb-init .wb-init)").trigger("timerpoke.wb"),e.removeAttribute("data-trigger-wet"))}),a.trigger("wb-update.wb-data-ajax");break;case"toggle":ae(e,t);break;case"addClass":Z(t.source).addClass(t.class);break;case"removeClass":Z(t.source).removeClass(t.class);break;case"query":te(0,t)}}}),t.on("timerpoke.wb "+r,u,function(e){switch(e.type){case"timerpoke":case"wb-init":var t,a,r,n,i=e;if(i=_.init(i,ie,u)){t=Z(i),a=i.id,g.i18n[_.lang]&&(g.i18n=g.i18n[_.lang]),(r=_.getData(t,ie))&&r.i18n&&(r.i18n=Z.extend({},g.i18n,r.i18n)),(r=Z.extend({},g,r)).defaultIfNone&&!Array.isArray(r.defaultIfNone)&&(r.defaultIfNone=[r.defaultIfNone]),t.data(fe,r),n=r.i18n,String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(t=t||0,e.length)===e});var o,l,s=_.getId(),d=r.btnStyle&&0<=["default","primary","success","info","warning","danger","link"].indexOf(r.btnStyle)?r.btnStyle:"default",c=!!r.showLabel;if(r.noForm){for(o="<div class='mrgn-tp-md'><div id='"+s+"'></div></div>",l=i.parentElement;"FORM"!==l.nodeName;)l=l.parentElement;Z(l.parentElement).addClass(p)}else o=r.inline&&!r.renderas?(o="<div class='wb-frmvld mrgn-bttm-md "+p+"'><form><div class='input-group'><div id='"+s+"'>")+"</div><span class='input-group-btn"+(c?" align-bottom":"")+'\'><input type="submit" value="'+_.escapeAttribute(n.btn)+'" class="btn btn-'+d+'" /></span></div> </form></div>':(o="<div class='wb-frmvld "+p+"'><form><div id='"+s+"'>")+'</div><input type="submit" value="'+_.escapeAttribute(n.btn)+'" class="btn btn-primary mrgn-bttm-md" /> </form></div>';t.addClass("hidden"),o=Z(o),t.after(o),r.noForm||(l=o.find("form"),o.trigger("wb-init.wb-frmvld")),c=Z(l),ee(c,he,a),r.outputctnrid||(r.outputctnrid=s),r.source||(r.source=i),r.srctype||(r.srctype=ie),r.inline=!!r.inline,r.gcChckbxrdio=!!r.gcChckbxrdio,t.trigger(r.srctype+"."+ue,r),r.unhideelm&&Z(r.unhideelm).removeClass("hidden"),r.hideelm&&Z(r.hideelm).addClass("hidden"),_.ready(t,ie),r.ext&&(r.form=c.get(0),t.trigger(r.ext+"."+m,r))}}return!0}),_.add(u)})(jQuery,document,wb),((x,k,S)=>{function n(e){e=e.target,e=k.getElementById(e.getAttribute("list")),Modernizr.load({test:Modernizr.stringnormalize,nope:["site!deps/unorm"+S.getMode()+".js"]}),x(e).trigger({type:"json-fetch.wb",fetch:{url:e.dataset.wbSuggest}})}function i(e){var t=e.target,a=k.getElementById(t.getAttribute("list")),r=e.target.value,n=e.which;switch(A&&clearTimeout(A),e.type){case"change":A=setTimeout(T.bind(a,r),C);break;case"keyup":e.ctrlKey||e.altKey||e.metaKey||(8===n||32===n||47<n&&n<91||95<n&&n<112||159<n&&n<177||187<n&&n<223)&&(A=setTimeout(T.bind(a,r),C))}}var A,o=S.doc,l="wb-suggest",s="[data-"+l+"]",C=250,E=5,q=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},z=function(){for(var e,t=this.children,a=t.length-1;0<a;a-=1)1===(e=t[a]).nodeType&&"TEMPLATE"!==e.nodeName&&this.removeChild(e)},T=function(e,t,a){var r,n,i,o,l,s,d,c,u,p=a||JSON.parse(this.dataset.wbSuggestions||[]),g=this.dataset.wbFilterType||"any",m=p.length,b=[],h=this.childNodes,f=h.length-1,v=x("[list="+this.id+"]"),w=v.get(0);if(!p.length&&E&&(E-=1,A&&clearTimeout(A),A=setTimeout(T(e,t,a),C)),t=t||parseInt(this.dataset.wbLimit||m),e){switch(g){case"startWith":e="^"+e;break;case"word":e="^"+e+"|\\s"+e}r=new RegExp(e,"i")}if(!e||e.length<2)z.call(this),h=[];else for(d=f;0!==d;d-=1)1===(c=h[d]).nodeType&&"OPTION"===c.nodeName&&((u=c.getAttribute("value"))&&u.match(r)?b.push(q(u)):this.removeChild(c));var y=this.querySelector("template");for(y&&!y.content&&S.tmplPolyfill(y),n=0;n<m&&b.length<t;n+=1)i=p[n],o=q(i),-1!==b.indexOf(o)||e&&!i.match(r)||(b.push(o),y?s=(l=y.content.cloneNode(!0)).querySelector("option"):(l=k.createDocumentFragment(),s=k.createElement("OPTION"),l.appendChild(s)),s.setAttribute("label",i),s.setAttribute("value",i),this.appendChild(l));v.trigger("wb-update.wb-datalist"),w.value=w.value};o.on("timerpoke.wb wb-init.wb-suggest json-fetched.wb",s,function(e){var t,a,r=e.target;if(e.currentTarget===r)switch(e.type){case"timerpoke":case"wb-init":t=e,a=S.init(t,l,s),t="[list="+t.target.id+"]",a&&(Modernizr.addTest("stringnormalize","normalize"in String),o.one("focus",t,n),(a.dataset.wbLimit||a.dataset.wbFilterType)&&o.on("change keyup",t,i),S.ready(x(a),l));break;case"json-fetched":!function(e){this.dataset.wbSuggestions=JSON.stringify(e),delete this.dataset.wbSuggest,T.call(this,k.querySelector("[list="+this.id+"]").value)}.call(r,e.fetch.response)}return!0}),S.add(s)})(jQuery,document,wb),((l,s,d)=>{var c,u="wb-urlmapping",a="[data-"+u+"]",r="domapping."+u,n=d.doc;n.on(r,a,function(e){var t,a,r,n=l(e.target),i=(()=>{for(var e={},t=/\+/g,a=/([^&=]+)=?([^&]*)/g,r=function(e){return decodeURIComponent(e.replace(t," "))},n=s.location.search.substring(1),i=a.exec(n);i;)e[r(i[1])]=r(i[2]),i=a.exec(n);return e})(),o=l.extend({},s[u]||{},d.getData(n,u));for(t in i)if("object"==typeof(r=o[t+"="+(a=i[t])]||o[t])&&(n.trigger({type:"do.wb-actionmng",actions:{action:"withInput",actions:r,cValue:a,dntwb:n[0]!==c}}),!o.multiplequery))break}),n.on("timerpoke.wb wb-init.wb-urlmapping",a,function(e){var t,e=d.init(e,u,a);e&&(t=l(e),c=c||e,d.ready(t,u),d.isReady?t.trigger(r):n.one("wb-ready.wb",function(){t.trigger(r)}))}),d.add(a)})(jQuery,window,wb),((n,i)=>{var o="adapter-wb5-click",l="[data-wb5-click][data-toggle]",s="wb-postback";i.doc.on("timerpoke.wb wb-init.adapter-wb5-click",l,function(e){var t,a,r,e=i.init(e,o,l);e&&(t=(a=(e=n(e)).data("wb5-click").split("@"))[0],a=n(a[1]),r=i.getData(e,"toggle"),"postback"===t&&"FORM"===a[0].nodeName&&r.selector?(a.addClass(s),a.attr("data-"+s,JSON.stringify({success:r.selector,failure:r.selector})),a.parent().removeClass("gc-rprt-prblm-tggl"),e.removeAttr("data-wb5-click").removeAttr("toggle").removeAttr("data-toggle").removeAttr("aria-controls").removeClass("wb-toggle"),a.trigger("wb-init."+s)):console.log("Init failed for adapter wb5 click"),i.ready(e,o))}),i.add(l)})(jQuery,(window,wb)),((r,n)=>{function a(e){var t=r(e).parentsUntil(w).parents(),a=document.querySelector("html").className;f=-1!==a.indexOf("smallview"),l=-1!==a.indexOf("mediumview"),(f||l)&&u(!1,l),e.previousElementSibling.setAttribute("aria-label",c),n.ready(t,s)}var i,o,f,l,v,s="gcweb-menu",w="."+s,e=n.doc,t=w+" [data-ajax-replace],"+w+" [data-ajax-append],"+w+" [data-ajax-prepend],"+w+" [data-wb-ajax]",d=350,c={en:"Main Menu. Press the SPACEBAR to expand or the escape key to collapse this menu. Use the Up and Down arrow keys to choose a submenu item. Press the Enter or Right arrow key to expand it, or the Left arrow or Escape key to collapse it. Use the Up and Down arrow keys to choose an item on that level and the Enter key to access it.",fr:"Menu principal. Appuyez sur la barre d'espacement pour ouvrir ou sur la touche d'échappement pour fermer le menu. Utilisez les flèches haut et bas pour choisir un élément de sous-menu. Appuyez sur la touche Entrée ou sur la flèche vers la droite pour le développer, ou sur la flèche vers la gauche ou la touche Échap pour le réduire. Utilisez les flèches haut et bas pour choisir un élément de ce niveau et la touche Entrée pour y accéder."};function y(e){var t;"true"!==e.getAttribute("aria-expanded")&&((t=e.parentElement.parentElement.querySelector("[aria-haspopup][aria-expanded=true]:not([data-keep-expanded=md-min])"))&&!f&&x(t,!0),e.setAttribute("aria-expanded","true"),o=e,setTimeout(function(){o=!1},d))}function x(e,t){if(e){if(e.hasAttribute("aria-haspopup")||(e=e.previousElementSibling),!t){var t=e.nextElementSibling.querySelector("[role=menuitem]:focus"),a=e.parentElement.parentElement.querySelector("[role=menuitem]:focus");if(t||a===e)return}e.setAttribute("aria-expanded","false")}}function u(e,t){for(var a,r=document.querySelectorAll("[role=menu] [role=menu] [role=menuitem][aria-haspopup=true]"),n=r.length,i=t?"true":"false",o=e?"vertical":"horizontal",l=0;l<n;l++)a=r[l].nextElementSibling.querySelector("[role=menuitem]:focus")?"true":i,r[l].setAttribute("aria-expanded",a),r[l].parentElement.previousElementSibling.setAttribute("aria-orientation",o)}e.on("mouseenter",w+" ul [aria-haspopup]",function(e){var t;f||(clearTimeout(void 0),"md-min"!==(t=e.currentTarget).dataset.keepExpanded&&(clearTimeout(i),i=setTimeout(function(){y(t)},d)))}),e.on("focusin",w+" ul [aria-haspopup]",function(e){f?v=!1:y(e.currentTarget)}),e.on("mouseenter focusin",w+" [aria-haspopup] + [role=menu]",function(e){"md-min"===e.currentTarget.previousElementSibling.dataset.keepExpanded||f||o===e.currentTarget||clearTimeout(void 0)}),e.on("mouseleave",w+" [aria-haspopup]",function(){clearTimeout(i)}),e.on("click",w+" [aria-haspopup]",function(e){var t=e.currentTarget;v?v=!1:(!f&&"BUTTON"!==t.nodeName||("true"===t.getAttribute("aria-expanded")?o!==t&&x(t,!0):(y(t),(t=t.nextElementSibling.querySelector("[role=menuitem]")).focus(),t.setAttribute("tabindex","0"))),e.stopImmediatePropagation(),e.preventDefault())}),e.on(n.resizeEvents,function(e){switch(e.type){case"xxsmallview":case"xsmallview":case"smallview":u(!(f=!0),!1);break;case"mediumview":u(f=!1,!0);break;default:u(!(f=!1),!0)}}),e.on("keydown",function(e){27===e.keyCode&&x(document.querySelector(w+" button"))}),e.on("keydown",w+" button, "+w+" [role=menuitem]",function(e){var t=e.currentTarget,a=9===(a=e.charCode||e.keyCode)?"tab":13===a||32===a?"enter":27===a?"esc":39===a?"right":37===a?"left":40===a?"down":38===a&&"up",r=document.querySelector("[role=menuitem]:focus")||t,n=r.parentElement,i=n.parentElement,o="BUTTON"===r.nodeName;if("tab"===a)x(document.querySelector(w+" button"),!0);else if(o&&"enter"===a&&"true"===t.getAttribute("aria-expanded"))x(t,v=!0);else{r.nextElementSibling&&(l=r.nextElementSibling.querySelector("[role='menuitem']")),s=n.nextElementSibling?(s=n.nextElementSibling.querySelector("[role=menuitem]"))||n.nextElementSibling.nextElementSibling.querySelector("[role=menuitem]"):!f&&r.dataset.keepExpanded&&l?l:(!f&&i.previousElementSibling.dataset.keepExpanded?i.parentElement.parentElement:i).querySelector("[role=menuitem]");for(var l,s,d,c,u,p,g,m=i.previousElementSibling,b=n.previousElementSibling?(b=n.previousElementSibling.querySelector("[role=menuitem]"))||n.previousElementSibling.previousElementSibling.querySelector("[role=menuitem]"):!f&&i.lastElementChild.querySelector("[role=menuitem]").dataset.keepExpanded?i.lastElementChild.querySelector("[role=menuitem]").nextElementSibling.lastElementChild.querySelector("[role=menuitem]"):!f&&i.previousElementSibling.dataset.keepExpanded&&m?m:(o?r.nextElementSibling:i).lastElementChild.querySelector("[role=menuitem]"),h=n;h.nextElementSibling;)if("separator"===(h=h.nextElementSibling).getAttribute("role")){d=!(!h.hasAttribute("aria-orientation")||"vertical"!==h.getAttribute("aria-orientation")),c=h.nextElementSibling.querySelector("[role=menuitem]");break}for(h=n;h.previousElementSibling;){if("separator"===(h=h.previousElementSibling).getAttribute("role")){if(p)break;u=!(!h.hasAttribute("aria-orientation")||"vertical"!==h.getAttribute("aria-orientation")),p=h.previousElementSibling}p=p&&h}if(p=p&&p.querySelector("[role=menuitem]"),o||r.setAttribute("tabindex","-1"),"down"===a&&s)g=s;else if("up"===a&&b)g=b;else if(!o&&"right"===a&&l||"enter"===a&&l)g=l;else if(d&&"right"===a)g=c;else if(u&&"left"===a)g=p;else if(!o&&"left"===a||!o&&"esc"===a)g=m;else if("tab"===a)return;"left"!==a&&"esc"!==a||(!o&&f&&"true"===g.getAttribute("aria-expanded")?g.setAttribute("aria-expanded","false"):o&&t.setAttribute("aria-expanded","false")),g&&((f||o)&&"true"!==(i=g.parentElement.parentElement.previousElementSibling).getAttribute("aria-expanded")&&y(i),g.setAttribute("tabindex","0"),g.focus(),e.stopImmediatePropagation(),e.preventDefault())}}),e.on("ajax-fetched.wb ajax-failed.wb",t,function(e){var t=e.target;e.currentTarget===t&&a(t)}),e.on("timerpoke.wb wb-init.gcweb-menu",w,function(e){e=n.init(e,s,w);e&&(c[n.lang]?c=c[n.lang]:c.en&&(c=c.en),!e.querySelector(t))&&a(e.querySelector("[role=menu]"))}),n.add(w)})(jQuery,wb),document.querySelector(".nws-tbl")&&document.querySelector("details summary h2.h4")){let e=document.querySelector("details summary h2.h4"),t=document.querySelector(".nws-tbl"),a=t.getAttribute("data-wb-tables");e.classList.remove("h4"),e.classList.add("h6"),t.setAttribute("data-wb-tables",a.replace("nws-tbl-ttl h4","nws-tbl-ttl h6"))}((i,o)=>{var e=o.doc,l="page-type-theme",s="."+l;e.on("timerpoke.wb wb-init .page-type-theme",s,function(e){var t,a,r,n=o.init(e,l,s);n&&e.currentTarget===e.target&&(t=(e=document.querySelector("#menu-btn")).querySelector(".glyphicon"),a=i("#theme-nav"),(r=document.querySelector("#theme-nav ul")).id=r.id||o.getId(),a.trigger("navcurr.wb"),e.setAttribute("aria-controls",r.id),e.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true"),r.querySelector(".wb-navcurr")&&r.querySelector(".wb-navcurr").setAttribute("aria-current","page"),o.ready(i(n),l))}),e.on("click","#menuBtn",function(e){e=e.currentTarget;"true"===e.getAttribute("aria-expanded")?(e.setAttribute("aria-expanded","false"),e.classList.remove("expanded")):(e.setAttribute("aria-expanded","true"),e.classList.add("expanded"))}),o.add(s)})(jQuery,(window,wb));