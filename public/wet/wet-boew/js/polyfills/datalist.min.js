/*!
 * Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
 * wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html
 * v4.0.56.2 - 2022-11-30
 *
 */
!function(u,o,n){"use strict";function d(e,t){var i,a=u(e.nextSibling.firstChild),n=a.next().children().clone();t&&0!==t.length&&(i=t.toLowerCase(),n=n.filter(function(){var e=u(this),t=e.find("span.al-val").html();return 0===t.length&&(t=e.find("span.al-lbl").html()),0===i.length||0===t.toLowerCase().indexOf(i)})),a.empty().append(n),0!==n.length?(p(e),a.removeClass("hide").attr("aria-hidden","false"),e.setAttribute("aria-expanded","true")):(a.addClass("hide").attr("aria-hidden","true"),e.setAttribute("aria-expanded","false"))}function c(e){var t=e.nextSibling.firstChild;t.className+=" hide",t.innerHTML="",t.setAttribute("aria-hidden","true"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-activedescendent","")}var r="wb-datalist",g="input[list]",b="setfocus.wb",f=!1,h=n.doc,l=function(e){var t,i,a,n,r=u(e),l="<div class='wb-al-cnt'><ul role='listbox' id='wb-al-"+e.id+"' class='wb-al hide' aria-hidden='true' aria-live='polite'></ul>",s=o.getElementById(e.getAttribute("list")).getElementsByTagName("option"),d=s.length;for(l+="<ul class='wb-al-src hide' aria-hidden='true'>",n=0;n!==d;n+=1)i=(t=s[n]).getAttribute("value"),a=t.getAttribute("label"),i=i||t.innerHTML,l+="<li id='al-opt-"+e.id+"-"+n+"'><a href='javascript:;' tabindex='-1'><span class='al-val'>"+(i||"")+"</span><span class='al-lbl'>"+(a&&a!==i?a:"")+"</span></a></li>";r.after(l+"</ul></div>")},p=function(e){var t=u(e);u(e.nextSibling.firstChild).css({width:t.outerWidth(),left:t.position().left})};h.on("timerpoke.wb wb-init.wb-datalist wb-update.wb-datalist keydown click",g,function(e){var t=e.target,i=e.type,a=e.which;switch(i){case"timerpoke":case"wb-init":!function(e){e=n.init(e,r,g);e&&(e.setAttribute("autocomplete","off"),e.setAttribute("role","textbox"),e.setAttribute("aria-haspopup","true"),e.setAttribute("aria-autocomplete","list"),e.setAttribute("aria-owns","wb-al-"+e.id),e.setAttribute("aria-activedescendent",""),l(e),n.ready(u(e),r),f=!0)}(e);break;case"wb-update":e.namespace===r&&l(e.target);break;case"keydown":if(!e.ctrlKey&&!e.metaKey)return function(e,t){var i=t.target,a=i.nextSibling.firstChild,n=-1!==a.className.indexOf("hide");if(!(t.ctrlKey||t.altKey||t.metaKey))if(32===e||47<e&&e<91||95<e&&e<112||159<e&&e<177||187<e&&e<223)t.altKey||d(i,i.value+String.fromCharCode(e));else if(8!==e||t.altKey){if((38===e||40===e)&&""===i.getAttribute("aria-activedescendent"))return n&&d(i),a=(a=a.getElementsByTagName("a"))[38===e?a.length-1:0],i.setAttribute("aria-activedescendent",a.parentNode.getAttribute("id")),u(a).trigger(b),!1;n||9!==e&&27!==e&&(27!==e||t.altKey)||c(i)}else 0!==(t=(e=i.value).length)&&d(i,e.substring(0,t-1))}(a,e);break;case"click":f&&(a&&1!==a||(-1===t.nextSibling.firstChild.className.indexOf("hide")?c(t):d(t,t.value)))}return!0}),h.on("keydown click",".wb-al a, .wb-al span",function(e){var t,i,a,n,r=e.target,l=e.type,s=e.which;switch(l){case"keydown":if(!e.ctrlKey&&!e.metaKey)return function(e,t){var i,a,n,r=t.parentNode.parentNode,l=r.parentNode.previousSibling,s=u(l);if(!(event.ctrlKey||event.altKey||event.metaKey))return 32===e||47<e&&e<91||95<e&&e<112||159<e&&e<177||187<e&&e<223?(l.value+=String.fromCharCode(e),s.trigger(b),d(l,l.value),!1):8===e?(0!==(n=(a=l.value).length)&&(l.value=a.substring(0,n-1),d(l,l.value)),s.trigger(b),!1):13===e?(0===(a=(n=t.getElementsByTagName("span"))[0].innerHTML).length&&(a=n[1].innerHTML),l.value=a,s.trigger(b),c(l),!1):9===e||27===e?(s.trigger(b),c(l),!1):38===e||40===e?(i=(i=38===e?(i=t.parentNode.previousSibling)||(e=r.getElementsByTagName("li"))[e.length-1]:(i=t.parentNode.nextSibling)||r.getElementsByTagName("li")[0]).getElementsByTagName("a")[0],l.setAttribute("aria-activedescendent",i.parentNode.getAttribute("id")),u(i).trigger(b),!1):void 0}(s,r);break;case"click":if(!s||1===s)return i="a"===(t=r).nodeName.toLowerCase()?t:t.parentNode,a=i.parentNode.parentNode.parentNode.previousSibling,n=u(a),0===(i=(t=i.getElementsByTagName("span"))[0].innerHTML).length&&(i=t[1].innerHTML),a.value=i,n.trigger(b),c(a),!1}}),h.on("focusin txt-rsz.wb win-rsz-width.wb win-rsz-height.wb",function(e){var t,i,a,n,r,l="focusin"===e.type,s=e.target;if(f)for(r=(t=h.find(g).get()).length,n=0;n!==r;n+=1)i=t[n],l?-1!==(a=i.nextElementSibling||u(i).next().get(0)).firstChild.className.indexOf("hide")||s===a||u.contains(a,s)||c(i):p(i)}),n.add(g)}(jQuery,(window,document),wb);
//# sourceMappingURL=datalist.min.js.map