/*!
 * Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
 * wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html
 * v4.0.79 - 2024-05-01
 *
 */
!function(c,o,u){"use strict";function g(e){var t,a,i,n,r=c(e),l="<div class='wb-al-cnt'><ul role='listbox' id='wb-al-"+e.id+"' class='wb-al hide' aria-hidden='true' aria-live='polite'></ul>",s=o.getElementById(e.getAttribute("list")).getElementsByTagName("option"),d=s.length;for(l+="<ul class='wb-al-src hide' aria-hidden='true'>",n=0;n!==d;n+=1)a=(t=s[n]).getAttribute("value"),i=t.getAttribute("label"),a=a||t.innerHTML,l+="<li id='al-opt-"+e.id+"-"+n+"'><a href='javascript:;' tabindex='-1'><span class='al-val'>"+(a||"")+"</span><span class='al-lbl'>"+(i&&i!==a?i:"")+"</span></a></li>";r.after(l+"</ul></div>")}function b(e,t){var a,i=c(e.nextSibling.firstChild),n=i.next().children().clone();t&&0!==t.length&&(a=t.toLowerCase(),n=n.filter(function(){var e=c(this),t=e.find("span.al-val").html();return 0===t.length&&(t=e.find("span.al-lbl").html()),0===a.length||0===t.toLowerCase().indexOf(a)})),i.empty().append(n),0!==n.length?(m(e),i.removeClass("hide").attr("aria-hidden","false"),e.setAttribute("aria-expanded","true")):(i.addClass("hide").attr("aria-hidden","true"),e.setAttribute("aria-expanded","false"))}function h(e){var t=e.nextSibling.firstChild;t.className+=" hide",t.innerHTML="",t.setAttribute("aria-hidden","true"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-activedescendent","")}var p="wb-datalist",f="input[list]",v="setfocus.wb",w=!1,d=u.doc,m=function(e){var t=c(e);c(e.nextSibling.firstChild).css({width:t.outerWidth(),left:t.position().left})};d.on("timerpoke.wb wb-init.wb-datalist wb-update.wb-datalist keydown click",f,function(e){var t=e.target,a=e.type,i=e.which;switch(a){case"timerpoke":case"wb-init":var n=e;(n=u.init(n,p,f))&&(n.setAttribute("autocomplete","off"),n.setAttribute("role","textbox"),n.setAttribute("aria-haspopup","true"),n.setAttribute("aria-autocomplete","list"),n.setAttribute("aria-owns","wb-al-"+n.id),n.setAttribute("aria-activedescendent",""),g(n),u.ready(c(n),p),w=!0);break;case"wb-update":e.namespace===p&&g(e.target);break;case"keydown":if(e.ctrlKey||e.metaKey)break;var n=i,r=e,l=r.target,s=l.nextSibling.firstChild,d=-1!==s.className.indexOf("hide");if(!(r.ctrlKey||r.altKey||r.metaKey))if(32===n||47<n&&n<91||95<n&&n<112||159<n&&n<177||187<n&&n<223)r.altKey||b(l,l.value+String.fromCharCode(n));else if(8!==n||r.altKey){if((38===n||40===n)&&""===l.getAttribute("aria-activedescendent"))return d&&b(l),s=(s=s.getElementsByTagName("a"))[38===n?s.length-1:0],l.setAttribute("aria-activedescendent",s.parentNode.getAttribute("id")),c(s).trigger(v),!1;d||9!==n&&27!==n&&(27!==n||r.altKey)||h(l)}else 0!==(d=(s=l.value).length)&&b(l,s.substring(0,d-1));return;case"click":!w||i&&1!==i||(-1===t.nextSibling.firstChild.className.indexOf("hide")?h(t):b(t,t.value))}return!0}),d.on("keydown click",".wb-al a, .wb-al span",function(e){var t,a,i,n,r,l,s,d,o=e.target,u=e.type,g=e.which;switch(u){case"keydown":if(e.ctrlKey||e.metaKey)break;return s=g,i=(t=o).parentNode.parentNode,n=i.parentNode.previousSibling,l=c(n),event.ctrlKey||event.altKey||event.metaKey?void 0:32===s||47<s&&s<91||95<s&&s<112||159<s&&s<177||187<s&&s<223?(n.value+=String.fromCharCode(s),l.trigger(v),b(n,n.value),!1):8===s?(0!==(d=(r=n.value).length)&&(n.value=r.substring(0,d-1),b(n,n.value)),l.trigger(v),!1):13===s?(0===(r=(d=t.getElementsByTagName("span"))[0].innerHTML).length&&(r=d[1].innerHTML),n.value=r,l.trigger(v),h(n),!1):9===s||27===s?(l.trigger(v),h(n),!1):38===s||40===s?(a=(a=38===s?(a=t.parentNode.previousSibling)||(d=i.getElementsByTagName("li"))[d.length-1]:(a=t.parentNode.nextSibling)||i.getElementsByTagName("li")[0]).getElementsByTagName("a")[0],n.setAttribute("aria-activedescendent",a.parentNode.getAttribute("id")),c(a).trigger(v),!1):void 0;case"click":if(g&&1!==g)break;return r="a"===(r=o).nodeName.toLowerCase()?r:r.parentNode,l=r.parentNode.parentNode.parentNode.previousSibling,s=c(l),r=r.getElementsByTagName("span"),0===(d=r[0].innerHTML).length&&(d=r[1].innerHTML),l.value=d,s.trigger(v),h(l),!1}}),d.on("focusin txt-rsz.wb win-rsz-width.wb win-rsz-height.wb",function(e){var t,a,i,n,r,l="focusin"===e.type,s=e.target;if(w)for(r=(t=d.find(f).get()).length,n=0;n!==r;n+=1)a=t[n],l?-1!==(i=a.nextElementSibling||c(a).next().get(0)).firstChild.className.indexOf("hide")||s===i||c.contains(i,s)||h(a):m(a)}),u.add(f)}(jQuery,(window,document),wb);
//# sourceMappingURL=datalist.min.js.map